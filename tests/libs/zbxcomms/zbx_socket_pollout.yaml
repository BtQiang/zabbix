---
test case: "default"
in:
  timeout: 1
  poll_mode: "no error"
out:
  result: SUCCEED
---
test case: "cannot wait for connection"
in:
  timeout: 1
  socket_had_blocking_error: yes
  poll_mode: "error"
out:
  result: FAIL
  error: "cannot wait for connection"
---
test case: "revents error"
in:
  timeout: 1
  poll_mode: "revents error"
out:
  result: "FAIL"
  error: "connection error (POLLERR)"
