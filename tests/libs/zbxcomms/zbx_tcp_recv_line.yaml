---
test case: "line in buffer with newlines"
in:
  buf_stat: "line1\nline2\n"
  mode: buffer contains next line
out:
  result: ["line1","line2","line3"]
---
test case: "first read without next line ptr"
in:
  buf_stat: "line1\nline2\nline3\n"
  mode: buffer not contains next line
  next_line_is_null: yes
out:
  result: [line1,line2,line3]
---
test case: "incomplete_line_without_newline"
in:
  buf_stat: "line1"
  mode: buffer not contains next line
  next_line_is_null: yes
out:
  result: [line1]
